:root{
  --page-bg:#fafafa;
  --text:#222;
  --card-bg:#fff;
  --card-border:#cfcfcf;
  --rule:#d9d9d9;
  --btn:#4a4a4a;        /* darker so white icons pop */
  --btn-edge:#3b3b3b;
  --muted:#6a6a6a;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--page-bg);
  color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
}
.page{min-height:100vh;}
.shell{
  display:grid;
  grid-template-columns:minmax(320px, 1fr) 380px;
  gap:22px; max-width:1180px; margin:28px auto; padding:0 16px; align-items:start;
}
.card{
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:8px;
  padding:14px;
}
.canvas-card{ padding:0; }
.canvas-wrap{ position:relative; width:100%; aspect-ratio:1/1; }
#sim{ width:100%; height:100%; display:block; }

.controls-card{ display:flex; flex-direction:column; gap:12px; }
.play-row{ display:flex; align-items:center; gap:14px; flex-wrap:wrap; }
.btn-big{
  width:96px; height:96px; border-radius:50%;
  background:var(--btn); border:1px solid var(--btn-edge);
  display:grid; place-items:center; cursor:pointer;
}
.btn-big .btn-txt{ font-size:34px; line-height:1; color:#fff; user-select:none; }

.btn-s{
  width:42px; height:42px; border-radius:50%;
  background:var(--btn); border:1px solid var(--btn-edge);
  display:grid; place-items:center; cursor:pointer;
}
.btn-s svg{ width:20px; height:20px; fill:#fff; }

.small-btn-row{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }

.toggle{ display:flex; align-items:center; gap:8px; margin-left:auto; }
.toggle input{ display:none; }
.toggle .knob{
  width:46px;height:24px;border-radius:24px;background:#e5e5e5;border:1px solid #cfcfcf; position:relative; cursor:pointer;
}
.toggle .knob::after{
  content:""; position:absolute; top:3px; left:3px; width:18px; height:18px; border-radius:50%;
  background:#fff; box-shadow:0 1px 2px rgba(0,0,0,0.25); transition:left 160ms ease;
}
.toggle input:checked + .knob{ background:#4caf50; }
.toggle input:checked + .knob::after{ left:25px; }
.toggle .toggle-label{ font-size:14px; color:#555; }

.group{ display:grid; gap:8px; }
.row{ display:grid; grid-template-columns:1fr auto; align-items:center; gap:8px; }
.label{ font-size:13.5px; color:#555; }
.muted{ color:var(--muted); font-size:12px; margin-left:6px; }
.value{ font-size:12.5px; color:#666; min-width:56px; text-align:right; }
.btn-inline{ display:none; } /* (old inline reseed removed) */

.formula{ font-size:12px; color:#6a6a6a; margin-top:2px; }

.slider{
  -webkit-appearance:none; width:100%; height:6px; border-radius:6px; background:var(--rule); outline:none;
}
.slider::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none;
  width:16px; height:16px; border-radius:50%; background:#fff; border:1px solid #cfcfcf;
  box-shadow:0 1px 2px rgba(0,0,0,0.2); cursor:pointer;
}
.slider::-moz-range-thumb{
  width:16px; height:16px; border-radius:50%; background:#fff; border:1px solid #cfcfcf;
  box-shadow:0 1px 2px rgba(0,0,0,0.2); cursor:pointer;
}

/* Responsive: stack on narrow screens */
@media (max-width: 900px){
  .shell{ grid-template-columns:1fr; }
  .toggle{ margin-left:0; }
}